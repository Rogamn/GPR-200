#version 300 es

#ifdef GL_ES
precision highp float;
#endif

in vec4 vNormal;
out vec4 rtColor;

void main()
{
	vec4 tempColor;
	
	// RGB to Luma calculation from wikipedia
	float luminance = (vNormal.r * 0.2126) + (vNormal.g * 0.7152) + (vNormal.b * 0.0722);
    
	luminance = max(0.0, luminance);
    
	// Apply tone mapping
	tempColor = vNormal * luminance;
    
	rtColor = tempColor;

	//rtColor = vNormal;
}